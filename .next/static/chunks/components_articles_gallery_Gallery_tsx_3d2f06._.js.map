{
  "version": 3,
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/articles/gallery/Gallery.tsx"],"sourcesContent":["\"use client\";\n\nimport { GalleryImage } from \"@/lib/util/types\";\nimport {\n  ChevronRight,\n  ChevronLeft,\n  ImageIcon,\n  Maximize2,\n  X,\n  Youtube,\n  User2,\n} from \"lucide-react\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { useState } from \"react\";\n\nexport default function Gallery({ images }: GalleryProps) {\n  const [fullscreen, setFullscreen] = useState(false);\n  const [currentImage, setCurrentImage] = useState(0);\n  const firstImage = images[0];\n\n  return (\n    <div className=\"not-prose\">\n      {fullscreen && (\n        <div\n          className=\"flex flex-col gap-8 fixed z-50 inset-0 w-full h-full bg-black/80 p-4\"\n          onClick={(e) => {\n            e.preventDefault();\n            // only close when clicking on itself and not a child\n            if (e.target === e.currentTarget) return setFullscreen(false);\n          }}\n        >\n          <button\n            className=\"flex flex-row gap-8\"\n            onClick={() => setFullscreen(false)}\n          >\n            <X className=\"w-12 h-12\" />\n            <span className=\"text-xl my-auto\">\n              Gallery of {images.length} images\n            </span>\n          </button>\n          <div\n            className=\"relative w-full h-full\"\n            onClick={(e) => {\n              e.preventDefault();\n              // only close when clicking on itself and not a child\n              if (e.target === e.currentTarget) return setFullscreen(false);\n            }}\n          >\n            <button\n              className=\"absolute hidden z-10 md:block left-0 top-[50%] translate-y-[-50%] rounded-full p-8 hover:bg-muted\"\n              onClick={() =>\n                setCurrentImage(\n                  currentImage - 1 < 0 ? images.length - 1 : currentImage - 1\n                )\n              }\n            >\n              <ChevronLeft className=\"w-16 h-16\" />\n            </button>\n            <button\n              className=\"absolute hidden z-10 md:block right-0 top-[50%] translate-y-[-50%] rounded-full p-8 hover:bg-muted\"\n              onClick={() =>\n                setCurrentImage((currentImage + 1) % images.length)\n              }\n            >\n              <ChevronRight className=\"w-16 h-16\" />\n            </button>\n            <span className=\"flex flex-row gap-4 top-4 left-4\">\n              {images[currentImage].author && (\n                <span className=\"flex flex-row gap-2 z-10\">\n                  <User2 /> {images[currentImage].author}\n                </span>\n              )}\n            </span>\n            {images[currentImage].caption && (\n              <span className=\"absolute left-[50%] translate-x-[-50%] bottom-4 w-full p-4 h-16 overflow-y-auto z-10 text-center\">\n                {images[currentImage].caption}\n              </span>\n            )}\n            {images[currentImage].type === \"youtube\" ? (\n              <iframe\n                width={\n                  window.innerWidth < 500\n                    ? window.innerWidth\n                    : window.innerWidth - 300\n                }\n                height={window.innerHeight - 300}\n                src={`https://www.youtube-nocookie.com/embed/${images[currentImage].url}`}\n                title=\"YouTube video player\"\n                // @ts-ignore\n                frameborder=\"0\"\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\n                allowfullscreen\n                className=\"absolute object-scale-down left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%]\"\n              ></iframe>\n            ) : (\n              <Link href={images[currentImage].url} className=\"\">\n                <Image\n                  src={images[currentImage].url}\n                  alt={\n                    (images[currentImage].caption &&\n                      images[currentImage].caption) ||\n                    \"Image with no caption\"\n                  }\n                  width={500}\n                  height={500}\n                  className=\"absolute w-min h-min object-scale-down left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%]\"\n                />\n              </Link>\n            )}\n          </div>\n          <div className=\"flex flex-row justify-center gap-4 overflow-x-scroll w-full h-36\">\n            {images.map((image, i) => (\n              // eslint-disable-next-line react/jsx-key\n              <button onClick={() => setCurrentImage(i)} className=\"group\">\n                <Image\n                  src={\n                    image.type === \"youtube\"\n                      ? `https://invidious.projectsegfau.lt/vi/${image.url}/hqdefault.jpg`\n                      : image.url\n                  }\n                  alt={image.url}\n                  width={100}\n                  height={100}\n                  className={`${\n                    currentImage === i && \"ring-primary ring\"\n                  } rounded-md grow min-w-[6rem] h-24 group-hover:ring-primary group-hover:ring`}\n                />\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n      <button\n        onClick={() => setFullscreen(true)}\n        className=\"group block cursor-zoom-in overflow-hidden bg-muted rounded-md p-2 mb-4 aspect-video w-full md:w-64 h-auto\"\n      >\n        {/* Stupid hack lol */}\n        <div\n          className=\"bg-cover bg-center w-full h-full rounded-md\"\n          style={\n            firstImage.type === \"youtube\"\n              ? {\n                  backgroundImage: `url(https://invidious.projectsegfau.lt/vi/${firstImage.url}/hqdefault.jpg)`,\n                }\n              : {}\n          }\n        >\n          <div className=\"relative transition-all group-hover:backdrop-brightness-50 w-full h-full rounded-md\">\n            {firstImage.type !== \"youtube\" && (\n              <div className=\"-z-10\">\n                <Image\n                  src={firstImage.url}\n                  alt=\"Gallery featured image\"\n                  fill\n                  className=\"transition-all object-cover group-hover:brightness-50\"\n                />\n              </div>\n            )}\n\n            <Maximize2 className=\"transition-transform absolute flex group-hover:visible invisible w-12 h-12 scale-0 group-hover:scale-100 left-[50%] top-[50%] translate-x-[-50%] translate-y-[-50%]\" />\n            <span className=\"absolute flex flex-row gap-1 right-2 bottom-2\">\n              <ImageIcon className=\"w-6 h-6\" />\n              {images.length.toFixed(0)}\n            </span>\n            <span className=\"transition-opacity absolute flex flex-row left-2 bottom-2 opacity-0 group-hover:opacity-100\">\n              Gallery\n            </span>\n          </div>\n        </div>\n      </button>\n    </div>\n  );\n}\n\nexport interface GalleryProps extends React.PropsWithChildren {\n  images: GalleryImage[];\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 294, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}